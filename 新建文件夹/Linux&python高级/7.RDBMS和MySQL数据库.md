# 一 MySQL 基本使用

## 1.数据库简介

### 1.数据存储 --  引入

| 存储手段               | 缺点                                                         | 备注 |
| ---------------------- | ------------------------------------------------------------ | ---- |
| 结绳记事、甲骨文、图书 | 1.不易保存;<br />2.备份困难;<br />3.查找不便;                |      |
| 文件                   | 1.大容量数据对程序支持性一般, 性能差;<br />2.不易扩展        |      |
| 数据库                 | 1.持久存储;<br />2.读写速度极高;<br />3.保证数据有效性;<br />4.易扩展, 对程序支持非常好 |      |

### 2.数据库

#### 2.1 数据库就是一种特殊的文件，其中存储着需要的数据

#### 2.2 关系型数据库核心元素

- 数据行(记录)
- 数据列(字段)
- 数据表(数据行的集合)
- 数据库(数据表的集合)

### 3.RDBMS(Relational Database Management System)

按关系可以分为两种类型:

- 关系型数据库
  - oracle: 大型工业项目中使用, 银行|通信等
  - mysql: web时代使用最广的关系型
  - sqlite:  轻量级数据库, 主要应用在移动平台
- 非关系型数据库
  - redis
  - mongodb

查看数据库排名: [数据库排名](<https://db-engines.com/en/ranking>)

### 4.RDBMS 和 数据库 的关系

![关系](imgs/RDBMS和数据库关系.png)

### 5.SQL (Structured Query Language)

> SQL是结构化查询语言，是一种用来操作RDBMS的数据库语言，当前关系型数据库都支持使用SQL语言进行操作,也就是说可以通过 SQL 操作 oracle,sql server,mysql,sqlite 等等所有的关系型的数据库

- SQL语句主要分为：
  - **DQL：数据查询语言，用于对数据进行查询，如select**
  - **DML：数据操作语言，对数据进行增加、修改、删除，如insert、udpate、delete**
  - TPL：事务处理语言，对事务进行处理，包括begin transaction、commit、rollback
  - DCL：数据控制语言，进行授权与权限回收，如grant、revoke
  - DDL：数据定义语言，进行数据库、表的管理等，如create、drop
  - CCL：指针控制语言，通过控制指针完成表的操作，如declare cursor

- SQL 是一门特殊的语言,专门用来操作关系数据库
- 不区分大小写

### 6.MySQL 

#### 6.1 历史

- 官网
- MySQL是一个关系型数据库管理系统，由瑞典MySQL AB公司开发，后来被Sun公司收购，Sun公司后来又被Oracle公司收购，目前属于Oracle旗下产品

#### 6.2 特点

- 使用C和C++编写，并使用了多种编译器进行测试，保证源代码的可移植性
- 支持多种操作系统，如Linux、Windows、AIX、FreeBSD、HP-UX、MacOS、NovellNetware、OpenBSD、OS/2 Wrap、Solaris等
- 为多种编程语言提供了API，如C、C++、Python、Java、Perl、PHP、Eiffel、Ruby等
- 支持多线程，充分利用CPU资源
- 优化的SQL查询算法，有效地提高查询速度
- 提供多语言支持，常见的编码如GB2312、BIG5、UTF8
- 提供TCP/IP、ODBC和JDBC等多种数据库连接途径
- 提供用于管理、检查、优化数据库操作的管理工具
- 大型的数据库。可以处理拥有上千万条记录的大型数据库
- 支持多种存储引擎
- MySQL 软件采用了双授权政策，它分为社区版和商业版，由于其体积小、速度快、总体拥有成本低，尤其是开放源码这一特点，一般中小型网站的开发都选择MySQL作为网站数据库
- MySQL使用标准的SQL数据语言形式
- Mysql是可以定制的，采用了GPL协议，你可以修改源码来开发自己的Mysql系统
- 在线DDL更改功能
- 复制全局事务标识
- 复制无崩溃从机
- 复制多线程从机

> 开源 免费 不要钱 使用范围广,跨平台支持性好,提供了多种语言调用的 API
>
> 是学习数据库开发的首选

## 2.MySQL 安装

### 1.服务端安装

#### 1.1 Ubuntu16.04 安装

`sudo apt-get install mysql-server`

配置开机自启动

启动|重启|停止|等

`sudo service mysql start|restart|stop`

查看进程中是否存在mysql服务

`ps ajx|grep mysql`

#### 1.2 配置

- 配置文件目录:  `/etc/mysql/mysql.cnf`

![](imgs/2-2-1.png)

- 进入 conf.d 目录, 打开 mysql.cnf, 发现并没有配置
- 进入 mysql.conf.d 目录,打开 mysql.cnf , 可以看到配置项
- 主要配置项

```python
bind-address表示服务器绑定的ip，默认为127.0.0.1

port表示端口，默认为3306

datadir表示数据库目录，默认为/var/lib/mysql

general_log_file表示普通日志，默认为/var/log/mysql/mysql.log

log_error表示错误日志，默认为/var/log/mysql/error.log
```

### 2.客户端安装

#### 2.1 Ubuntu16.04 安装

##### 2.1.1 命令行安装

`sudo apt-get install mysql-client`

`mysql –-help`

##### 2.1.2 图形化界面客户端navicat

官网下载并解压: `tar zxvf navicat112_mysql_cs_x64.tar.gz`

运行: `./start_navicat`

问题一: 中文乱码

> - 打开start_navicat文件
> - 将export LANG="en_US.UTF-8"改为export LANG="zh_CN.UTF-8"

问题二: 试用期

> - 删除删除用户目录下的.navicat64目录 `rm -r .navicat64`



